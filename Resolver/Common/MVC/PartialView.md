# Partial view:
* -> a **Razor markup (.cshtml) file** that **`render HTML output within another markup file`** (_views are rendered within another view_)
* -> it's not a complete view, but instead used for **the `reusability` of the HTML markup** (other **`views`** or **`layout`**)
* -> include **break up large markup** files into smaller components; **reduce the duplication** of common markup content across markup file; **`shouldn't be used to maintain common layout elements`**

* _hiểu đơn giản thì `HTML output generated by partial view` được render vào view cha_

* -> _there are different ways of rendering partial view in MVC Razor: **RenderPartial**, **RenderAction**, **Partial**, **Action**_

=========================================================================
# Html.Partial
* -> accept **`view name`** as parameter and returns **MVCHtmlString** object - a **`specialized HTML-encoded string`** that can be directly rendered in the view
* -> also **can be assigned to a variable** and **`manipulate if required`** (_really rare_) before rendering

```cs
// Razor syntax
@Html.Partial("ViewName") // directly rendered in the view
@Html.Partial("ViewName", Model) // pass a model to the Partial view 

// WebView syntax
<% Html.RenderPartial("ViewName"); %>
```

```cs
@{ string htmlData = @Html.Partial("ViewName").ToString(); }
```

# Html.RenderPartial 
* -> **`returns void`** 
* -> **HTML output of partial view will be written `directly` to the `HTTP response stream`**; so it better performance compare to **`Html.Partial`**

```cs
@{ Html.RenderPartial("ViewName"); }
@{ Html.RenderPartial("ViewName", Model) } // pass a model to the Partial view 
```

# Html.Action
* -> Invokes the specified child action method and returns the result as an HTML string

```cs
@Html.Action("Action", "Controller", new { param = "value"} )
```

```cs
@{string result = @Html.Action("Action", "Controller", new { param = "value"} ).ToString();}
```

# Html.RenderAction
* -> **invokes** a specified **`child action method`** and **`renders the result inline in the parent view`**
* -> the _Action Method_ must be marked with the **[ChildActionOnly]** attribute and return the **`PartialViewResult`** using the **PartialView()** method
* -> _it is faster than the Action method since its result is directly written to the HTTP response stream_

```cs
@{Html.RenderAction("Action", "Controller", new { param = "value"} ).ToString();}
```

=========================================================================
# Implement: cut the Menu / nagigation bar in _Layout.cshtml into a partial view

## Create a partial view
* -> create a file name `_MenuBar.cshtml` inside **Shared** folder (_we can create `partial view` in any `view` folder; however it recommended to create all partial views in the `Shared` folder so that they can be used in multiple views_)
* -> cut the markup of Menu in `_Layout.cshtml` to `_Menu.cshtml`

```js - _MenuBar.cshtml
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            @Html.ActionLink("Application name", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li>@Html.ActionLink("Home", "Index", "Home")</li>
                <li>@Html.ActionLink("About", "About", "Home")</li>
                <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
            </ul>
        </div>
    </div>
</div>
```

## Render partial view

```js - _Layout.cshtml
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - My ASP.NET Application</title>
    @Styles.Render("~/Content/css") 
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    
    @Html.Partial("_MenuBar") {/** this one **/}

    @{
      Html.RenderPartial("_MenuBar"); {/** this one **/}
    }

    @{
        Html.RenderAction("RenderMenu", "Home"); {/** this one **/}
    }
    
    @* you can modify result as below   *@
    @* var result = Html.Partial("_MenuBar") *@
    <div class="container body-content">
        @RenderBody()
        <hr />
        <footer>
            <p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>
        </footer>
    </div>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>
</html>
```

```cs - for the "html.RenderAction()"
public class HomeController : Controller
{
    [ChildActionOnly]
    public ActionResult RenderMenu()
    {
        return PartialView("_MenuBar");
    }
}
```